# Day2

> 6.ê¸°ë³¸ì ì¸ ë¦¬íŒ©í† ë§

<br>

## ğŸ“Œë¬¸ì œ1

### ë‹¤ìŒ ì½”ë“œë¥¼ ë¦¬íŒ©í„°ë§ í•˜ì‹œì˜¤. (nameì€ ìœ ì¼í•œ ê°’ì´ë¼ê³  ê°€ì •)

```js
// vip íšŒì› ëª©ë¡
const array = [];

function createVIPAccount([name, age, job]) {
  const person = [name, age, job];
  array.push(person);
}

function printDetail([name, age, job]) {
  console.log(name, age, job);
}

function deleteVIPAccount(name) {
  const index = array.findIndex((value) => value[0] === name);
  array.splice(index, 1);
}

function printArray() {
  for (let i = 0; i < array.length; i++) {
    let result = "";
    for (let j = 0; j < array[i].length; j++) {
      result += `${array[i][j]} `;
    }
    console.log(result);
  }
}

const person1 = ["í™ê¸¸ë™", 20, "ë„ì "];
const person2 = ["ì§±êµ¬", 5];
const person3 = ["ì†Œí¬ë¼í…ŒìŠ¤", 71, "ì² í•™ì"];

printDetail(person1);
printDetail(person2);
printDetail(person3);

createVIPAccount(person1);
createVIPAccount(person2);
createVIPAccount(person3);

deleteVIPAccount("ì§±êµ¬");
console.log("<VIP íšŒì› ëª…ë‹¨>");
printArray(array);
deleteVIPAccount("í™ê¸¸ë™");
console.log("<VIP íšŒì› ëª…ë‹¨>");
printArray(array);
```

### ë‹µì•ˆ ì‘ì„±

```js
const persons = [
  { name: "í™ê¸¸ë™", age: 20, job: "ë„ì " },
  { name: "ì§±êµ¬", age: 5 },
  { name: "ì†Œí¬ë¼í…ŒìŠ¤", age: 71, job: "ì² í•™ì" },
];

class VIPmembers {
  #members;
  constructor(members) {
    this.#members = members;
  }

  printMember(name) {
    const targetMember = this.#members.find((member) => member.name === name);
    this.#print(targetMember);
  }

  addMember(info) {
    this.#members.push(info);
  }

  deleteMember(name) {
    const index = this.#members.findIndex((member) => member.name === name);
    this.#members.splice(index, 1);
  }

  printMembers() {
    this.#printBanner();
    this.#members.forEach((member) => this.#print(member));
  }

  #printBanner() {
    console.log("<VIP íšŒì› ëª…ë‹¨>");
  }

  #print({ name, age, job }) {
    console.log(name, age, job);
  }
}

const VIPs = new VIPmembers(persons);

VIPs.printMember("í™ê¸¸ë™");
VIPs.printMember("ì§±êµ¬");
VIPs.printMember("ì†Œí¬ë¼í…ŒìŠ¤");

VIPs.deleteMember("ì§±êµ¬");
VIPs.printMembers();

VIPs.deleteMember("í™ê¸¸ë™");
VIPs.printMembers();
```

<br>

## ğŸ“Œë¬¸ì œ2

### ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ê²°ê³¼ê°€ ë™ì¼í•˜ê²Œ ë¦¬íŒ©í„°ë§ í•˜ì‹œì˜¤. (receiptPromise ì œì™¸)

```js
const receiptPromise = new Promise((resolve) => {
  setTimeout(() => {
    resolve(
      JSON.stringify([
        {
          productName: "ì‚¼ë‹¤ìˆ˜",
          quantity: 20,
          price: 500,
          discountPercent: 0.12,
        },
        {
          productName: "ì«„ë³‘ ìŠ¤ë‚µ",
          quantity: 2,
          price: 1000,
          discountPercent: 0.08,
        },
        {
          productName: "ë§ˆìŠ¤í¬",
          quantity: 100,
          price: 300,
          discountPercent: 0.5,
        },
      ])
    );
  }, 2000);
});

receiptPromise.then((success) => {
  const res = JSON.parse(success);

  console.log("<ì˜ìˆ˜ì¦>");
  console.log("==========");

  // ê° ìƒí’ˆ ìƒì„¸ë‚´ì—­ ì¶œë ¥
  for (const data of res) {
    console.log("ìƒí’ˆëª…: " + data.productName);
    console.log("ê°œë‹¹ ê°€ê²©: " + data.price);
    console.log("ê°¯ìˆ˜: " + data.quantity);
    console.log(
      "ê¸ˆì•¡: " + data.price * data.quantity * (1 - data.discountPercent)
    );
    console.log("==========");
  }

  // í•©ê³„ ì¶œë ¥
  let sum = 0;
  for (let index = 0; index < res.length; index++) {
    sum +=
      res[index].price * res[index].quantity * (1 - res[index].discountPercent);
  }
  console.log("í•©ê³„: " + sum);
});
```

### ë‹µì•ˆ

```js
const receiptPromise = new Promise((resolve) => {
  setTimeout(() => {
    resolve(
      JSON.stringify([
        {
          productName: "ì‚¼ë‹¤ìˆ˜",
          quantity: 20,
          price: 500,
          discountPercent: 0.12,
        },
        {
          productName: "ì«„ë³‘ ìŠ¤ë‚µ",
          quantity: 2,
          price: 1000,
          discountPercent: 0.08,
        },
        {
          productName: "ë§ˆìŠ¤í¬",
          quantity: 100,
          price: 300,
          discountPercent: 0.5,
        },
      ])
    );
  }, 2000);
});

receiptPromise.then((rawData) => {
  const receipt = JSON.parse(rawData);
  printReceipt(receipt); // í•¨ìˆ˜ ë‹¨ê³„ ìª¼ê°œê¸°
});

function printReceipt(receipt) {
  printTitle(); // í•¨ìˆ˜ ì¶”ì¶œ
  printDetails(receipt); // í•¨ìˆ˜ ì¶”ì¶œ
  printTotalAmount(receipt); // í•¨ìˆ˜ ì¶”ì¶œ
}

function printDetails(receipt) {
  receipt.forEach((product) => printDetail(product)); // for ofë¬¸ ->  ë°°ì—´í•¨ìˆ˜ë¡œ ë³€ê²½

  function printDetail(product) {
    console.log("ìƒí’ˆëª…: " + product.productName);
    console.log("ê°œë‹¹ ê°€ê²©: " + product.price);
    console.log("ê°¯ìˆ˜: " + product.quantity);
    console.log("ê¸ˆì•¡: " + caculateAmount(product)); // í•¨ìˆ˜ì¶”ì¶œ

    printDivider(); // í•¨ìˆ˜ì¶”ì¶œ
  }
}

function printTotalAmount(receipt) {
  console.log("í•©ê³„: " + calculateTotalAmount(receipt)); // í•¨ìˆ˜ ì¶”ì¶œ

  function calculateTotalAmount(receipt) {
    return receipt.reduce((acc, product) => acc + caculateAmount(product), 0); //  forë¬¸ -> ë°°ì—´í•¨ìˆ˜ë¡œ ë³€ê²½
  }
}

function caculateAmount(product) {
  const basePrice = product.price * product.quantity; // ë³€ìˆ˜ ì¶”ì¶œ
  const discount = basePrice * product.discountPercent; // ë³€ìˆ˜ ì¶”ì¶œ

  return basePrice - discount;
}

function printTitle() {
  console.log("<ì˜ìˆ˜ì¦>");
  printDivider();
}

function printDivider() {
  console.log("==========");
}
```

<br>

## ğŸ“Œë¬¸ì œ3

### ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ê²°ê³¼ê°€ ë™ì¼í•˜ê²Œ ë¦¬íŒ©í„°ë§ í•˜ì‹œì˜¤.

```js
const products = [
  { name: "yellowPants", price: 20000 },
  { name: "bluePants", price: 30000 },
  { name: "redPants", price: 90000 },
];
const discountRate = 0.1;

function calculatePrice(products, discountRate) {
  // amount : ìƒí’ˆê¸ˆì•¡ ì´í•©.
  // shippingFee : ë°°ì†¡ë£Œ.
  let amount = 0;
  let shippingFee = 0;

  //1. ìƒí’ˆê°€ê²©ì´ 30,000ì› ì´ìƒì´ë©´ í• ì¸ì ìš©
  for (let i = 0; i < products.length; i++) {
    if (products[i].price >= 30000) {
      products[i].price = products[i].price - products[i].price * discountRate;
    }
  }

  //2. ì´ê¸ˆì•¡ êµ¬í•˜ê¸°
  for (let i = 0; i < products.length; i++) {
    amount += products[i].price;
  }

  //3. ë°°ì†¡ë¹„ëŠ” ì´ê¸ˆì•¡ì˜ 10%ì´ê³ , ì´ê¸ˆì•¡ì´100,000ì›ì´ìƒì´ë©´ ë¬´ë£Œ ë°°ì†¡
  shippingFee = checkUpto100000(amount) ? 0 : amount * 0.1;

  const totalPrice = amount - shippingFee;
  return totalPrice;
}

function checkUpto100000(number) {
  const result = number >= 100000;
  return result;
}

console.log(calculatePrice(products, discountRate));
```

### ë‹µì•ˆ

```js

```

<br>

## ğŸ“Œë¬¸ì œ4

### ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ê²°ê³¼ê°€ ë™ì¼í•˜ê²Œ ë¦¬íŒ©í„°ë§ í•˜ì‹œì˜¤.

```js
// ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆì´ ë‹´ê²¨ìˆëŠ”ì§€ ì•ˆë‹´ê²¨ìˆëŠ”ì§€ íŒë³„í•˜ëŠ” í•¨ìˆ˜
const cart = [];
if (cart.length === 0) console.log("ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì—ˆìŠµë‹ˆë‹¤.");
```

### ë‹µì•ˆ

```js

```

<br>

## ğŸ“Œë¬¸ì œ5

### ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ê²°ê³¼ê°€ ë™ì¼í•˜ê²Œ ë¦¬íŒ©í„°ë§ í•˜ì‹œì˜¤.

```js
const items = [
  {
    id: 1,
    type: "refund",
    name: "í‹°ì…”ì¸ ",
  },

  {
    id: 2,
    type: "exchange",
    name: "ì²­ë°”ì§€",
  },
  {
    id: 3,
    type: "refund",
    name: "í‹°ì…”ì¸ 1",
  },
  {
    id: 4,
    type: "credit",
    name: "ì‹ ë°œ",
  },
];

function filteredItems(items, filterType) {
  return items.filter((item) => item.type === filterType);
}

// 1. í™˜ë¶ˆìƒí’ˆë§Œ ë³´ì—¬ì£¼ê¸°
const refundItems = filteredItems(items, "refund");
// 2. ì™¸ìƒìƒí’ˆë§Œ ë³´ì—¬ì£¼ê¸°
const creditItems = filteredItems(items, "credit");
// 3. êµí™˜ìƒí’ˆë§Œ ë³´ì—¬ì£¼ê¸°
const exchageItems = filteredItems(items, "exchange");

console.log("refundItems :>> ", refundItems);
console.log("creditItems :>> ", creditItems);
console.log("exchageItems :>> ", exchageItems);
```

### ë‹µì•ˆ

```js

```

<br>

## ğŸ“Œë¬¸ì œ6

### ë‹¤ìŒ ì½”ë“œì˜ ë¬¸ì œì ì„ ì„¤ëª…í•˜ê³ , ë¦¬íŒ©í† ë§í•˜ì‹œì˜¤.

```js
import _ from "lodash";

const product = {
  category: "book",
  name: "refactoring2",
  owner: { name: "Lily" },
};

class Product {
  #category;
  #name;
  #owner;
  constructor(data) {
    this.#category = data.category;
    this.#name = data.name;
    this.#owner = _.cloneDeep(data.owner);
  }

  set ownerName(value) {
    this.#owner.name = value;
  }

  get category() {
    return this.#category;
  }

  get name() {
    return this.#name;
  }
}

const book = new Product(product);
book.ownerName = "James";
console.log(book);
console.log(product);
```

### ë‹µì•ˆ

```js
import _ from "lodash";

const product = {
  category: "book",
  name: "refactoring2",
  owner: { name: "Lily" },
};

class Product {
  constructor(data) {
    this.category = data.category;
    this.name = data.name;
    this.owner = _.cloneDeep(data.owner);
  }

  set ownerName(value) {
    this.owner.name = value;
  }
}

const book = new Product(product);
book.ownerName = "James";
console.log("book :>> ", book);
console.log(product);
```

<br>

## ğŸ“Œë¬¸ì œ7

### ë‹¤ìŒ ì½”ë“œì˜ ë¬¸ì œì ì„ ì„¤ëª…í•˜ê³ , ë¦¬íŒ©í† ë§í•˜ì‹œì˜¤.

```js
function getMovieRating(movie) {
  return isMoreThanThreeStars(movie.star) ? "good movie" : "bad movie";
}

function isMoreThanThreeStars(star) {
  return star > 3;
}

const movieA = {
  name: "movieA",
  star: 4,
};

console.log(getMovieRating(movieA));
```

### ë‹µì•ˆ

```js
function getMovieRating(movie) {
  return movie.star > 3 ? "good movie" : "bad movie"; // í•¨ìˆ˜ ì¸ë¼ì¸
}

const movieA = {
  name: "movieA",
  star: 4,
};

console.log(getMovieRating(movieA));
```

<br>

## ğŸ“Œë¬¸ì œ8

### ë‹¤ìŒ ì½”ë“œì˜ ë¬¸ì œì ì„ ì„¤ëª…í•˜ê³ , ë¦¬íŒ©í† ë§í•˜ì‹œì˜¤.

```js
export function getOutsideRangePrice(products, min, max) {
  return products.filter((p) => p.price < min || p.price > max);
}

const products = [
  { name: "A", price: 10000 },
  { name: "B", price: 5000 },
  { name: "C", price: 2000 },
  { name: "D", price: 7000 },
];

console.log(getOutsideRangePrice(products, 3000, 7000));
```

### ë‹µì•ˆ

```js
class Range {
  #min;
  #max;

  constructor(min, max) {
    this.#min = min;
    this.#max = max;
  }

  contains(value) {
    return value >= this.#min && value <= this.#max;
  }
}

function getOutsideRangePrice(products, range) {
  // ë§¤ê°œë³€ìˆ˜ ì¶•ì†Œ
  return products.filter((p) => !range.contains(p.price)); // í•¨ìˆ˜ ì¶”ì¶œ
}

const products = [
  { name: "A", price: 10000 },
  { name: "B", price: 5000 },
  { name: "C", price: 2000 },
  { name: "D", price: 7000 },
];

const operatorPlan = new Range(3000, 7000);
console.log(getOutsideRangePrice(products, operatorPlan));
```
