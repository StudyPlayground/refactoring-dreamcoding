# Day2
> 6.ê¸°ë³¸ì ì¸ ë¦¬íŒ©í† ë§

<br>

## ğŸ“Œë¬¸ì œ1
### ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ê²°ê³¼ê°€ ë™ì¼í•˜ê²Œ ë¦¬íŒ©í„°ë§ í•˜ì‹œì˜¤.
```js
// vip íšŒì› ëª©ë¡
const array = [];

function createVIPAccount([name, age, job]) {
  const person = [name, age, job];
  array.push(person);
}

function printDetail([name, age, job]) {
  console.log(name, age, job);
}

function deleteVIPAccount(name) {
  const index = array.findIndex((value) => value[0] === name);
  array.splice(index, 1);
}

function printArray() {
  for (let i = 0; i < array.length; i++) {
    let result = "";
    for (let j = 0; j < array[i].length; j++) {
      result += `${array[i][j]} `;
    }
    console.log(result);
  }
}

const person1 = ["í™ê¸¸ë™", 20, "ë„ì "];
const person2 = ["ì§±êµ¬", 5];
const person3 = ["ì†Œí¬ë¼í…ŒìŠ¤", 71, "ì² í•™ì"];

printDetail(person1);
printDetail(person2);
printDetail(person3);

createVIPAccount(person1);
createVIPAccount(person2);
createVIPAccount(person3);

deleteVIPAccount("ì§±êµ¬");
console.log("<VIP íšŒì› ëª…ë‹¨>");
printArray(array);
deleteVIPAccount("í™ê¸¸ë™");
console.log("<VIP íšŒì› ëª…ë‹¨>");
printArray(array);
```
### í•´ì„¤
```js
class Account {
  #name;
  #age;
  #job;
  constructor(name, age, job = "") {
    this.#name = name;
    this.#age = age;
    this.#job = job;
  }

  printDetail() {
    console.log(`${this.#name} ${this.#age} ${this.#job}`);
  }
}

class VIPAccounts {
  #vipAccounts;

  constructor() {
    this.#vipAccounts = [];
  }

  addAccount(account) {
    this.#vipAccounts.push(account);
  }

  printAccounts() {
    console.log("<VIP íšŒì› ëª…ë‹¨>");
    this.#vipAccounts.forEach((account) => account.printDetail());
  }

  deleteAccount(account) {
    this.#vipAccounts = this.#vipAccounts.filter(
      (vipAccount) => vipAccount !== account
    );
  }
}

const vipAccounts = new VIPAccounts();

const account1 = new Account("í™ê¸¸ë™", 20, "ë„ì ");
const account2 = new Account("ì§±êµ¬", 5);
const account3 = new Account("ì†Œí¬ë¼í…ŒìŠ¤", 71, "ì² í•™ì");

account1.printDetail();
account2.printDetail();
account3.printDetail();

vipAccounts.addAccount(account1);
vipAccounts.addAccount(account2);
vipAccounts.addAccount(account3);

vipAccounts.deleteAccount(account2);
vipAccounts.printAccounts();
vipAccounts.deleteAccount(account1);
vipAccounts.printAccounts();
```
- ì—°ê´€ìˆëŠ” ë°ì´í„°, ë©”ì„œë“œë¼ë¦¬ ë¬¶ê¸° ìœ„í•´ í´ë˜ìŠ¤ë¡œ ìº¡ìŠí™”í•˜ê¸°
   - Account: ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥, ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥
   - Accounts: ë°ì´í„°ë¥¼ ëª©ë¡ì— ì €ì¥í•˜ëŠ” ê¸°ëŠ¥, ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥, ëª©ë¡ì—ì„œ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥
- ë°ì´í„°ì˜ ë¶ˆë³€ì„± ìœ ì§€
   - íšŒì› ëª©ë¡: splice -> filter
- nameì€ ìœ ì¼í•œ ê°’ì´ ì•„ë‹ ìˆ˜ ìˆê¸°ì— ì¸ìŠ¤í„´ìŠ¤ë¡œ êµ¬ë¶„í•œë‹¤.
- ë§¤ê°œë³€ìˆ˜ê°€ undefinedì¸ ê²½ìš° ê¸°ë³¸ê°’ ë§¤ê°œë³€ìˆ˜ë¥¼ ì´ìš©í•œë‹¤.

<br>

## ğŸ“Œë¬¸ì œ2
### ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ê²°ê³¼ê°€ ë™ì¼í•˜ê²Œ ë¦¬íŒ©í„°ë§ í•˜ì‹œì˜¤. (receiptPromise ì œì™¸)
```js
const receiptPromise = new Promise((resolve) => {
  setTimeout(() => {
    resolve(
      JSON.stringify([
        {
          productName: "ì‚¼ë‹¤ìˆ˜",
          quantity: 20,
          price: 500,
          discountPercent: 0.12,
        },
        {
          productName: "ì«„ë³‘ ìŠ¤ë‚µ",
          quantity: 2,
          price: 1000,
          discountPercent: 0.08,
        },
        {
          productName: "ë§ˆìŠ¤í¬",
          quantity: 100,
          price: 300,
          discountPercent: 0.5,
        },
      ])
    );
  }, 2000);
});

receiptPromise.then((success) => {
  const res = JSON.parse(success);

  console.log("<ì˜ìˆ˜ì¦>");
  console.log("==========");

  // ê° ìƒí’ˆ ìƒì„¸ë‚´ì—­ ì¶œë ¥
  for (const data of res) {
    console.log("ìƒí’ˆëª…: " + data.productName);
    console.log("ê°œë‹¹ ê°€ê²©: " + data.price);
    console.log("ê°¯ìˆ˜: " + data.quantity);
    console.log(
      "ê¸ˆì•¡: " + data.price * data.quantity * (1 - data.discountPercent)
    );
    console.log("==========");
  }

  // í•©ê³„ ì¶œë ¥
  let sum = 0;
  for (let index = 0; index < res.length; index++) {
    sum +=
      res[index].price * res[index].quantity * (1 - res[index].discountPercent);
  }
  console.log("í•©ê³„: " + sum);
});
```
### í•´ì„¤
```js
async function fetchReceipt() {
  return await receiptPromise;
}

function calculatedPrice({ price, quantity, discountPercent }) {
  return price * quantity * (1 - discountPercent);
}

function sumCalculatedPrice(receipt) {
  return receipt
    .map((product) => calculatedPrice(product))
    .reduce((sum, totalPrice) => sum + totalPrice, 0);
}

function printReceipt(receipt) {
  console.log("<ì˜ìˆ˜ì¦>");
  console.log("==========");
  receipt.forEach((product) => {
    console.log(`ìƒí’ˆëª…: ${product.productName}`);
    console.log(`ê°œë‹¹ ê°€ê²©: ${product.price}`);
    console.log(`ê°¯ìˆ˜: ${product.quantity}`);
    console.log(`ê¸ˆì•¡: ${calculatedPrice(product)}`);
    console.log("==========");
  });
}

async function run() {
  const receipt = JSON.parse(await fetchReceipt());
  printReceipt(receipt);
  console.log(`í•©ê³„: ${sumCalculatedPrice(receipt)}`);
}

run();
```
- í•¨ìˆ˜ ì¶”ì¶œí•˜ê¸°
- ë³€ìˆ˜, í•¨ìˆ˜ ì´ë¦„ì§“ê¸°

<br>