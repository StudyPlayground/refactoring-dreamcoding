# Day3
> 7.캡슐화   
> 8.기능 이동

<br>

## 📌문제1
### 다음 코드의 출력 결과가 동일하게 리팩터링 하시오.
```js
const odds = [];

const datas = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

for (let index = 0; index < datas.length; index++) {
  if (check(datas[index])) odds.push(datas[index]);
}

function check(num) {
  if (num % 2 === 0) return false;
  return true;
}
```
### 해설
```js
class Odd {
  #odds;
  constructor() {
    this.#odds = [];
  }

  #isOdd(number) {
    return number % 2 === 0 ? false : true;
  }

  add(number) {
    this.#isOdd(number) && this.#odds.push(number);
  }

  print() {
    this.#odds.forEach((odd, index) => console.log(`[${index + 1}] ${odd}`));
  }
}

const numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
const odds = new Odd();

numbers.forEach((number) => odds.add(number));

odds.print();
```
- 컬렉션 캡슐화하기
- 임시 변수를 질의 함수로 바꾸기

<br>

## 📌문제2
### 다음 코드의 출력 결과가 동일하게 리팩터링 하시오. (Todo의 content는 유일하다고 가정)
```js
class TodoList {
  constructor() {
    this.todos = [];
  }

  add(arg) {
    this.todos.push({ todo: new Todo(arg), done: false });
  }

  delete(todo) {
    for (let index = 0; index < this.todos.length; index++) {
      if (this.todos[index].todo.todo === todo) {
        this.todos.splice(index, 1);
        break;
      }
    }
  }

  print() {
    for (let index = 0; index < this.todos.length; index++) {
      console.log(
        `할일: ${this.todos[index].todo.todo} ${
          this.todos[index].done ? "(완료)" : ""
        }`
      );
    }
    console.log("==========");
  }

  toggle(todo) {
    for (let index = 0; index < this.todos.length; index++) {
      if (this.todos[index].todo.todo === todo) {
        this.todos[index].done = !this.todos[index].done;
        break;
      }
    }
  }
}

class Todo {
  todo;
  constructor(arg) {
    this.todo = arg;
  }
  get todo() {
    return this.todo;
  }
}

const todoList = new TodoList();

todoList.add("운동 1시간 하기");
todoList.add("책 30page 읽기");
todoList.add("신문 읽기");
todoList.print();

todoList.toggle("책 30page 읽기");
todoList.print();

todoList.delete("운동 1시간 하기");
todoList.print();
```
### 해설
```js
class TodoList {
  #todos;
  constructor() {
    this.#todos = [];
  }

  add(content) {
    this.#todos.push(new Todo(content));
  }

  delete(content) {
    this.#todos = this.#todos.filter((todo) => todo.content !== content);
  }

  print() {
    this.#todos.forEach((todo) => todo.printTodo());
    console.log("==========");
  }

  toggle(content) {
    this.#todos.forEach(
      (todo) => todo.content === content && todo.toggleDone()
    );
  }
}

class Todo {
  #content;
  #isDone;
  constructor(content) {
    this.#content = content;
    this.#isDone = false;
  }

  get content() {
    return this.#content;
  }

  get isDone() {
    return this.#isDone;
  }

  toggleDone() {
    this.#isDone = !this.#isDone;
  }

  printTodo() {
    console.log(`할일: ${this.#content} ${this.#isDone ? "(완료)" : ""}`);
  }
}

const todoList = new TodoList();

todoList.add("운동 1시간 하기");
todoList.add("책 30page 읽기");
todoList.add("신문 읽기");
todoList.print();

todoList.toggle("책 30page 읽기");
todoList.print();

todoList.delete("운동 1시간 하기");
todoList.print();
```
- 함수 옮기기
- 필드 옮기기
- 인라인 코드를 함수 호출로 바꾸기

<br>
